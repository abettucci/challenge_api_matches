FROM public.ecr.aws/lambda/python:3.9

# Copiar requirements e instalar dependencias
COPY requirements.txt .
RUN pip install -r requirements.txt

# Copiar código de la aplicación
COPY lambda_app.py .
COPY lambda_handler.py .

# Copiar módulo de ML
COPY ml_similarity.py .

# Crear directorio para modelos y copiar modelo entrenado
RUN mkdir -p models
COPY models/similarity_model.pkl models/

# Comando por defecto para Lambda
CMD ["lambda_handler.lambda_handler"] 